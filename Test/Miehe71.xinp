<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<simulation>

  <geometry Lx="5.0" Ly="5.0">
    <refine type="uniform" patch="1" u="19" v="19" />
    <topologysets>
      <set name="Left" type="edge">
        <item patch="1">1</item>
      </set>
      <set name="Right" type="edge">
        <item patch="1">2</item>
      </set>
      <set name="Bottom" type="edge">
        <item patch="1">3</item>
      </set>
      <set name="Top" type="edge">
        <item patch="1">4</item>
      </set>
      <set name="TopBottom" type="edge">
        <item patch="1">3 4</item>
      </set>
    </topologysets>
  </geometry>

  <cahnhilliard>
    <Gc>1e3</Gc>
    <smearing>0.12</smearing>
    <maxcrack>0.001</maxcrack>
    <initial_crack type="expression">abs(x-2.5)</initial_crack>
    <Lnorm>1</Lnorm>
  </cahnhilliard>

  <elasticity>
    <isotropic E="254.8" nu="0.3" rho="700.0"/>
    <boundaryconditions>
      <dirichlet set="TopBottom" comp="2"/>
      <dirichlet set="Left" comp="1" type="Ramp">-0.2 10.0</dirichlet>
      <dirichlet set="Left" comp="2"/>
      <dirichlet set="Right" comp="1" type="Ramp">0.2 10.0</dirichlet>
      <dirichlet set="Right" comp="2"/>
    </boundaryconditions>
  </elasticity>

  <poroelasticity>
    <isotropic mu="98.0" nu="0.3" alpha="1.0" Minv="0.01"
               rhof="1000.0" rhos="666.67" perm="2.07e-9 2.07e-9"/>
    <crack Kc="8.17e-8" eps="50" L_per="0.25" />
    <boundaryconditions>
      <dirichlet set="TopBottom" comp="2"/>
      <dirichlet set="Left" comp="1" type="Ramp">-0.2 10.0</dirichlet>
      <dirichlet set="Left" comp="2"/>
      <dirichlet set="Right" comp="1" type="Ramp">0.2 10.0</dirichlet>
      <dirichlet set="Right" comp="2"/>
      <!-- <dirichlet set="Bottom" comp="3"/> -->
    </boundaryconditions>
    <scaling value="1" />
  </poroelasticity>

  <discretization>
    <nGauss>3</nGauss>
  </discretization>

  <postprocessing>
    <vtfformat nviz="3">BINARY</vtfformat>
  </postprocessing>

  <newmarksolver beta="0.25" gamma="0.5">
    <solve_displacements/>
    <predictor>constant displacement</predictor>
    <atol>1e-8</atol>
  </newmarksolver>

  <timestepping>
    <step end="20">50</step>
  </timestepping>

</simulation>
